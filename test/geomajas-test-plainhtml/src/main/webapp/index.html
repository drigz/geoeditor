<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<!--
	  ~ This is part of Geomajas, a GIS framework, http://www.geomajas.org/.
	  ~
	  ~ Copyright 2008-2013 Geosparc nv, http://www.geosparc.com/, Belgium.
	  ~
	  ~ The program is available in open source according to the GNU Affero
	  ~ General Public License. All contributions in this program are covered
	  ~ by the Geomajas Contributors License Agreement. For full licensing
	  ~ details, see LICENSE.txt in the project root.
	  -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<!--meta name="gwt:property" content="locale=en" /-->
<link type="text/css" rel="stylesheet" href="geomajas.css">
<title>GWT web application using Geomajas 1.7.0</title>

<!-- Name defined in the module xml (=geomajas). -->
<script type="text/javascript" language="javascript">
	var isomorphicDir = "plainhtml/sc/";
</script>
<script type="text/javascript" language="javascript"
	src="plainhtml/plainhtml.nocache.js"></script>
</head>

<body>
<table>
	<tr><td colspan="2"><h2>Embedded map initialized from GWT entry point</h2></td>
	</tr>
	<tr>
		<td>
			<div id="map" style="width: 400px; height: 300px;"></div>
		</td>
		<td>
			<div>
	<h3>java code (see org.geomajas.test.Application)</h3>
	<p>Make sure you call setHtmlElement and set the size before drawing the map.</p>
	<code> <pre>
public void onModuleLoad() {
	...
	final MapWidget map = new MapWidget("mainMap", "app");
	map.setHtmlElement(DOM.getElementById("map"));
	map.setWidth(DOM.getElementById("map").getStyle().getWidth());
	map.setHeight(DOM.getElementById("map").getStyle().getHeight());
	map.draw();
	...
}
				</pre> </code>
			</div>
		</td>
	</tr>
	<tr>	
		<td colspan="2">
		
	<h2>Embedded map initialized from javascript callback function geomajasOnload()</h2>
	<p>The <a href="http://code.google.com/p/gwt-exporter/">GWT-exporter</a>
	library allows to export GWT classes as javascript prototypes. The
	following map is created in pure javascript, using an API similar to
	Google maps or OpenLayers. See org.geomajas.test.client.exporter.MarkerMap for the API definition and
	org.geomajas.test.Application for setting up the geomajasOnLoad() function.</p>
		</td>
	</tr>
	<tr>
		<td>
			<div id="exportermap" style="width: 400px; height: 300px;"></div>
		</td>
		<td>
			<div>
	<h3>javascript code (see page source)</h3>
	<code> <pre>
function geomajasOnLoad() {
	var map = new org.geomajas.MarkerMap("exporterMap", "app");
	map.setHtmlElementId("exportermap");
	map.setWidth("400px");
	map.setHeight("300px");
	map.draw();
	map.addOnLoad(function() {
		map.setCenter(51.05, 3.716667);
		map.setZoomLevel(10);
		map.addMarker("some marker", 51, 3.7, "images/marker.png", 34, 34);
	});
}
				</pre> </code>
			</div>
		</td>
	</tr>
	</table>
	<script type="text/javascript" language="javascript">
	function geomajasOnLoad() {
		var map = new org.geomajas.MarkerMap("exporterMap", "app");
		map.setHtmlElementId("exportermap");
		map.setWidth("400px");
		map.setHeight("300px");
		map.draw();
		map.addOnLoad(function() {
			map.setCenter(51.05, 3.716667);
			map.setZoomLevel(10);
			map.addMarker("some marker", 51, 3.7, "images/marker.png", 34, 34);
		});

	}
</script>


	<!-- OPTIONAL: include this if you want history support -->
	<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
		style="position: absolute; width: 0; height: 0; border: 0"></iframe>
</body>
</html>
